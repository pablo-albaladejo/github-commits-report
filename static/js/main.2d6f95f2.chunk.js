(this["webpackJsonpgithub-commits-report"]=this["webpackJsonpgithub-commits-report"]||[]).push([[0],{32:function(e,n,t){},43:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var i=t(1),c=t(0),r=t.n(c),o=t(19),a=t.n(o),s=(t(32),t(12)),d=r.a.createContext(),l=t(11),j=t(2),O=t(20),u=t(4),b=t(22),h=t(21),g=t.n(h);function p(){var e=Object(O.a)(["\n  .container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    font-family: Arial;\n    \n    > div:nth-child(1) {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\n      transition: 0.3s;\n      width: 25%;\n      height: 45%;\n      > h1 {\n        font-size: 2rem;\n        margin-bottom: 20px;\n      }\n      > span:nth-child(2) {\n        font-size: 1.1rem;\n        color: #808080;\n        margin-bottom: 70px;\n      }\n      > span:nth-child(3) {\n        margin: 10px 0 20px;\n        color: red;\n      }\n      .login-container {\n        background-color: #000;\n        width: 70%;\n        border-radius: 3px;\n        color: #fff;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        > .login-link {\n          text-decoration: none;\n          color: #fff;\n          text-transform: uppercase;\n          cursor: default;\n          display: flex;\n          align-items: center;          \n          height: 40px;\n          > span:nth-child(2) {\n            margin-left: 5px;\n          }\n        }\n        .loader-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;          \n          height: 40px;\n        }\n        .loader {\n          border: 4px solid #f3f3f3;\n          border-top: 4px solid #3498db;\n          border-radius: 50%;\n          width: 12px;\n          height: 12px;\n          animation: spin 2s linear infinite;\n        }\n        @keyframes spin {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}function x(){var e=Object(c.useContext)(d),n=e.state,t=e.dispatch,r=Object(c.useState)({errorMessage:"",isLoading:!1}),o=Object(s.a)(r,2),a=o[0],l=o[1],O=n.client_id,b=n.redirect_uri;return Object(c.useEffect)((function(){var e=window.location.href;if(e.includes("?code=")){var i=e.split("?code=");window.history.pushState({},null,i[0]),l(Object(u.a)(Object(u.a)({},a),{},{isLoading:!0}));var c={client_id:n.client_id,redirect_uri:n.redirect_uri,client_secret:n.client_secret,code:i[1]},r=n.proxy_url;fetch(r,{method:"POST",body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){t({type:"LOGIN",payload:{user:e,isLoggedIn:!0}})})).catch((function(e){l({isLoading:!1,errorMessage:"Sorry! Login failed"})}))}}),[n,t,a]),n.isLoggedIn?Object(i.jsx)(j.a,{to:"/"}):Object(i.jsx)(f,{children:Object(i.jsx)("section",{className:"container",children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Welcome"}),Object(i.jsx)("span",{children:"Super amazing app"}),Object(i.jsx)("span",{children:a.errorMessage}),Object(i.jsx)("div",{className:"login-container",children:a.isLoading?Object(i.jsx)("div",{className:"loader-container",children:Object(i.jsx)("div",{className:"loader"})}):Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("a",{className:"login-link",href:"https://github.com/login/oauth/authorize?scope=user&client_id=".concat(O,"&redirect_uri=").concat(b),onClick:function(){l(Object(u.a)(Object(u.a)({},a),{},{errorMessage:""}))},children:[Object(i.jsx)(g.a,{}),Object(i.jsx)("span",{children:"Login with GitHub"})]})})})]})})})}var f=b.a.section(p()),_=(t(43),function(e){var n=e.children;return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("div",{className:"content",children:Object(i.jsx)("div",{className:"body",children:n})}),Object(i.jsx)("div",{className:"footer",children:Object(i.jsx)("div",{className:"footerItems",children:Object(i.jsx)("span",{children:"Pablo Albaladejo Mestre"})})})]})}),m=function(){return Object(i.jsx)(_,{children:Object(i.jsx)("h1",{children:"Welcome home!"})})},S=function(){return Object(i.jsx)(_,{children:Object(i.jsx)("h1",{children:"ERROR"})})},E=t(26),T=function(e){var n=e.component,t=Object(E.a)(e,["component"]),c=r.a.useContext(d).state;return Object(i.jsx)(j.b,Object(u.a)(Object(u.a)({},t),{},{render:function(e){return c.isLoggedIn?Object(i.jsx)(n,Object(u.a)({},e)):Object(i.jsx)(j.a,{to:"/login"})}}))},v=function(){return Object(i.jsx)(l.a,{basename:".",children:Object(i.jsxs)(j.d,{children:[Object(i.jsx)(T,{exact:!0,path:"/",component:m}),Object(i.jsx)(j.b,{path:"/login",component:x}),Object(i.jsx)(j.b,{path:"/error",component:S}),Object(i.jsx)(j.a,{to:"/error"})]})})},L={isLoggedIn:JSON.parse(localStorage.getItem("isLoggedIn"))||!1,user:JSON.parse(localStorage.getItem("user"))||null,client_id:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLIENT_ID,redirect_uri:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_REDIRECT_URI,client_secret:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLIENT_SECRET,proxy_url:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROXY_URL},C=function(e,n){switch(n.type){case"LOGIN":return localStorage.setItem("isLoggedIn",JSON.stringify(n.payload.isLoggedIn)),localStorage.setItem("user",JSON.stringify(n.payload.user)),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:n.payload.isLoggedIn,user:n.payload.user});case"LOGOUT":return localStorage.clear(),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},R=function(){var e=r.a.useReducer(C,L),n=Object(s.a)(e,2),t=n[0],c=n[1];return Object(i.jsx)(d.Provider,{value:{state:t,dispatch:c},children:Object(i.jsx)(v,{})})},y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,45)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),i(e),c(e),r(e),o(e)}))};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(R,{})}),document.getElementById("root")),y()}},[[44,1,2]]]);
//# sourceMappingURL=main.2d6f95f2.chunk.js.map